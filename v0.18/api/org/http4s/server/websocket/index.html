<!DOCTYPE html >
<html>
        <head>
          <meta http-equiv="X-UA-Compatible" content="IE=edge" />
          <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
          <title></title>
          <meta name="description" content="" />
          <meta name="keywords" content="" />
          <meta http-equiv="content-type" content="text/html; charset=UTF-8" />
          
      <link href="../../../../lib/index.css" media="screen" type="text/css" rel="stylesheet" />
      <link href="../../../../lib/template.css" media="screen" type="text/css" rel="stylesheet" />
      <link href="../../../../lib/diagrams.css" media="screen" type="text/css" rel="stylesheet" id="diagrams-css" />
      <script type="text/javascript" src="../../../../lib/jquery.js"></script>
      <script type="text/javascript" src="../../../../lib/jquery.panzoom.min.js"></script>
      <script type="text/javascript" src="../../../../lib/jquery.mousewheel.min.js"></script>
      <script type="text/javascript" src="../../../../lib/index.js"></script>
      <script type="text/javascript" src="../../../../index.js"></script>
      <script type="text/javascript" src="../../../../lib/scheduler.js"></script>
      <script type="text/javascript" src="../../../../lib/template.js"></script>
      <script type="text/javascript" src="../../../../lib/tools.tooltip.js"></script>
      
      <script type="text/javascript">
        /* this variable can be used by the JS to determine the path to the root document */
        var toRoot = '../../../../';
      </script>
    
        </head>
        <body>
      <div id="search">
        <span id="doc-title"><span id="doc-version"></span></span>
        <span class="close-results"><span class="left">&lt;</span> Back</span>
        <div id="textfilter">
          <span class="input">
            <input autocapitalize="none" placeholder="Search" id="index-input" type="text" accesskey="/" />
            <i class="clear material-icons"></i>
            <i id="search-icon" class="material-icons"></i>
          </span>
        </div>
    </div>
      <div id="search-results">
        <div id="search-progress">
          <div id="progress-fill"></div>
        </div>
        <div id="results-content">
          <div id="entity-results"></div>
          <div id="member-results"></div>
        </div>
      </div>
      <div id="content-scroll-container" style="-webkit-overflow-scrolling: touch;">
        <div id="content-container" style="-webkit-overflow-scrolling: touch;">
          <div id="subpackage-spacer">
            <div id="packages">
              <h1>Packages</h1>
              <ul>
                <li name="_root_.root" visbl="pub" class="indented0 " data-isabs="false" fullComment="yes" group="Ungrouped">
      <a id="_root_"></a><a id="root:_root_"></a>
      <span class="permalink">
      <a href="index.html#_root_" title="Permalink">
        <i class="material-icons"></i>
      </a>
    </span>
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">package</span>
      </span>
      <span class="symbol">
        <a title="" href="../../../../index.html"><span class="name">root</span></a>
      </span>
      
      <div class="fullcomment"><dl class="attributes block"> <dt>Definition Classes</dt><dd><a href="../../../../index.html" class="extype" name="_root_">root</a></dd></dl></div>
    </li><li name="_root_.org" visbl="pub" class="indented1 " data-isabs="false" fullComment="yes" group="Ungrouped">
      <a id="org"></a><a id="org:org"></a>
      <span class="permalink">
      <a href="index.html#org" title="Permalink">
        <i class="material-icons"></i>
      </a>
    </span>
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">package</span>
      </span>
      <span class="symbol">
        <a title="" href="../../../index.html"><span class="name">org</span></a>
      </span>
      
      <div class="fullcomment"><dl class="attributes block"> <dt>Definition Classes</dt><dd><a href="../../../../index.html" class="extype" name="_root_">root</a></dd></dl></div>
    </li><li name="org.http4s" visbl="pub" class="indented2 " data-isabs="false" fullComment="yes" group="Ungrouped">
      <a id="http4s"></a><a id="http4s:http4s"></a>
      <span class="permalink">
      <a href="../org/index.html#http4s" title="Permalink">
        <i class="material-icons"></i>
      </a>
    </span>
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">package</span>
      </span>
      <span class="symbol">
        <a title="" href="../../index.html"><span class="name">http4s</span></a>
      </span>
      
      <div class="fullcomment"><dl class="attributes block"> <dt>Definition Classes</dt><dd><a href="../../../index.html" class="extype" name="org">org</a></dd></dl></div>
    </li><li name="org.http4s.server" visbl="pub" class="indented3 " data-isabs="false" fullComment="yes" group="Ungrouped">
      <a id="server"></a><a id="server:server"></a>
      <span class="permalink">
      <a href="../../org/http4s/index.html#server" title="Permalink">
        <i class="material-icons"></i>
      </a>
    </span>
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">package</span>
      </span>
      <span class="symbol">
        <a title="" href="../index.html"><span class="name">server</span></a>
      </span>
      
      <div class="fullcomment"><dl class="attributes block"> <dt>Definition Classes</dt><dd><a href="../../index.html" class="extype" name="org.http4s">http4s</a></dd></dl></div>
    </li><li name="org.http4s.server.blaze" visbl="pub" class="indented4 " data-isabs="false" fullComment="yes" group="Ungrouped">
      <a id="blaze"></a><a id="blaze:blaze"></a>
      <span class="permalink">
      <a href="../../../org/http4s/server/index.html#blaze" title="Permalink">
        <i class="material-icons"></i>
      </a>
    </span>
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">package</span>
      </span>
      <span class="symbol">
        <a title="" href="../blaze/index.html"><span class="name">blaze</span></a>
      </span>
      
      <div class="fullcomment"><dl class="attributes block"> <dt>Definition Classes</dt><dd><a href="../index.html" class="extype" name="org.http4s.server">server</a></dd></dl></div>
    </li><li name="org.http4s.server.jetty" visbl="pub" class="indented4 " data-isabs="false" fullComment="yes" group="Ungrouped">
      <a id="jetty"></a><a id="jetty:jetty"></a>
      <span class="permalink">
      <a href="../../../org/http4s/server/index.html#jetty" title="Permalink">
        <i class="material-icons"></i>
      </a>
    </span>
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">package</span>
      </span>
      <span class="symbol">
        <a title="" href="../jetty/index.html"><span class="name">jetty</span></a>
      </span>
      
      <div class="fullcomment"><dl class="attributes block"> <dt>Definition Classes</dt><dd><a href="../index.html" class="extype" name="org.http4s.server">server</a></dd></dl></div>
    </li><li name="org.http4s.server.metrics" visbl="pub" class="indented4 " data-isabs="false" fullComment="yes" group="Ungrouped">
      <a id="metrics"></a><a id="metrics:metrics"></a>
      <span class="permalink">
      <a href="../../../org/http4s/server/index.html#metrics" title="Permalink">
        <i class="material-icons"></i>
      </a>
    </span>
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">package</span>
      </span>
      <span class="symbol">
        <a title="" href="../metrics/index.html"><span class="name">metrics</span></a>
      </span>
      
      <div class="fullcomment"><dl class="attributes block"> <dt>Definition Classes</dt><dd><a href="../index.html" class="extype" name="org.http4s.server">server</a></dd></dl></div>
    </li><li name="org.http4s.server.middleware" visbl="pub" class="indented4 " data-isabs="false" fullComment="yes" group="Ungrouped">
      <a id="middleware"></a><a id="middleware:middleware"></a>
      <span class="permalink">
      <a href="../../../org/http4s/server/index.html#middleware" title="Permalink">
        <i class="material-icons"></i>
      </a>
    </span>
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">package</span>
      </span>
      <span class="symbol">
        <a title="" href="../middleware/index.html"><span class="name">middleware</span></a>
      </span>
      
      <div class="fullcomment"><dl class="attributes block"> <dt>Definition Classes</dt><dd><a href="../index.html" class="extype" name="org.http4s.server">server</a></dd></dl></div>
    </li><li name="org.http4s.server.prometheus" visbl="pub" class="indented4 " data-isabs="false" fullComment="yes" group="Ungrouped">
      <a id="prometheus"></a><a id="prometheus:prometheus"></a>
      <span class="permalink">
      <a href="../../../org/http4s/server/index.html#prometheus" title="Permalink">
        <i class="material-icons"></i>
      </a>
    </span>
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">package</span>
      </span>
      <span class="symbol">
        <a title="" href="../prometheus/index.html"><span class="name">prometheus</span></a>
      </span>
      
      <div class="fullcomment"><dl class="attributes block"> <dt>Definition Classes</dt><dd><a href="../index.html" class="extype" name="org.http4s.server">server</a></dd></dl></div>
    </li><li name="org.http4s.server.staticcontent" visbl="pub" class="indented4 " data-isabs="false" fullComment="yes" group="Ungrouped">
      <a id="staticcontent"></a><a id="staticcontent:staticcontent"></a>
      <span class="permalink">
      <a href="../../../org/http4s/server/index.html#staticcontent" title="Permalink">
        <i class="material-icons"></i>
      </a>
    </span>
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">package</span>
      </span>
      <span class="symbol">
        <a title="Helpers for serving static content from http4s" href="../staticcontent/index.html"><span class="name">staticcontent</span></a>
      </span>
      
      <p class="shortcomment cmt">Helpers for serving static content from http4s</p><div class="fullcomment"><div class="comment cmt"><p>Helpers for serving static content from http4s</p><p>Note that these tools are relatively primitive and a dedicated server should be used
for serious static content serving.
</p></div><dl class="attributes block"> <dt>Definition Classes</dt><dd><a href="../index.html" class="extype" name="org.http4s.server">server</a></dd></dl></div>
    </li><li name="org.http4s.server.syntax" visbl="pub" class="indented4 " data-isabs="false" fullComment="yes" group="Ungrouped">
      <a id="syntax"></a><a id="syntax:syntax"></a>
      <span class="permalink">
      <a href="../../../org/http4s/server/index.html#syntax" title="Permalink">
        <i class="material-icons"></i>
      </a>
    </span>
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">package</span>
      </span>
      <span class="symbol">
        <a title="" href="../syntax/index.html"><span class="name">syntax</span></a>
      </span>
      
      <div class="fullcomment"><dl class="attributes block"> <dt>Definition Classes</dt><dd><a href="../index.html" class="extype" name="org.http4s.server">server</a></dd></dl></div>
    </li><li name="org.http4s.server.tomcat" visbl="pub" class="indented4 " data-isabs="false" fullComment="yes" group="Ungrouped">
      <a id="tomcat"></a><a id="tomcat:tomcat"></a>
      <span class="permalink">
      <a href="../../../org/http4s/server/index.html#tomcat" title="Permalink">
        <i class="material-icons"></i>
      </a>
    </span>
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">package</span>
      </span>
      <span class="symbol">
        <a title="" href="../tomcat/index.html"><span class="name">tomcat</span></a>
      </span>
      
      <div class="fullcomment"><dl class="attributes block"> <dt>Definition Classes</dt><dd><a href="../index.html" class="extype" name="org.http4s.server">server</a></dd></dl></div>
    </li><li name="org.http4s.server.websocket" visbl="pub" class="indented4 current" data-isabs="false" fullComment="yes" group="Ungrouped">
      <a id="websocket"></a><a id="websocket:websocket"></a>
      <span class="permalink">
      <a href="../../../org/http4s/server/index.html#websocket" title="Permalink">
        <i class="material-icons"></i>
      </a>
    </span>
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">package</span>
      </span>
      <span class="symbol">
        <span class="name">websocket</span>
      </span>
      
      <div class="fullcomment"><dl class="attributes block"> <dt>Definition Classes</dt><dd><a href="../index.html" class="extype" name="org.http4s.server">server</a></dd></dl></div>
    </li><li class="current-entities indented4">
                        <a class="object" href="WebSocketBuilder$.html" title=""></a>
                        <a class="class" href="WebSocketBuilder.html" title="Build a response which will accept an HTTP websocket upgrade request and initiate a websocket connection using the supplied exchange to process and respond to websocket messages."></a>
                        <a href="WebSocketBuilder.html" title="Build a response which will accept an HTTP websocket upgrade request and initiate a websocket connection using the supplied exchange to process and respond to websocket messages.">WebSocketBuilder</a>
                      </li>
              </ul>
            </div>
          </div>
          <div id="content">
            <body class="package value">
      <div id="definition">
        <div class="big-circle package">p</div>
        <p id="owner"><a href="../../../index.html" class="extype" name="org">org</a>.<a href="../../index.html" class="extype" name="org.http4s">http4s</a>.<a href="../index.html" class="extype" name="org.http4s.server">server</a></p>
        <h1>websocket<span class="permalink">
      <a href="../../../../org/http4s/server/websocket/index.html" title="Permalink">
        <i class="material-icons"></i>
      </a>
    </span></h1>
        
      </div>

      <h4 id="signature" class="signature">
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">package</span>
      </span>
      <span class="symbol">
        <span class="name">websocket</span>
      </span>
      </h4>

      
          <div id="comment" class="fullcommenttop"><dl class="attributes block"> <dt>Source</dt><dd><a href="https://github.com/http4s/http4s/blob/vSettingKey(This / This / This / version)/server/src/main/scala/org/http4s/server/websocket/package.scala" target="_blank">package.scala</a></dd></dl><div class="toggleContainer block">
          <span class="toggle">
            Linear Supertypes
          </span>
          <div class="superTypes hiddenContent"><a href="http://www.scala-lang.org/api/2.12.8/scala/AnyRef.html#scala.AnyRef" class="extype" name="scala.AnyRef">AnyRef</a>, <a href="http://www.scala-lang.org/api/2.12.8/scala/Any.html#scala.Any" class="extype" name="scala.Any">Any</a></div>
        </div></div>
        

      <div id="mbrsel">
        <div class="toggle"></div>
        <div id="memberfilter">
          <i class="material-icons arrow"></i>
          <span class="input">
            <input id="mbrsel-input" placeholder="Filter all members" type="text" accesskey="/" />
          </span>
          <i class="clear material-icons"></i>
        </div>
        <div id="filterby">
          <div id="order">
            <span class="filtertype">Ordering</span>
            <ol>
              
              <li class="alpha in"><span>Alphabetic</span></li>
              <li class="inherit out"><span>By Inheritance</span></li>
            </ol>
          </div>
          <div class="ancestors">
                  <span class="filtertype">Inherited<br />
                  </span>
                  <ol id="linearization">
                    <li class="in" name="org.http4s.server.websocket"><span>websocket</span></li><li class="in" name="scala.AnyRef"><span>AnyRef</span></li><li class="in" name="scala.Any"><span>Any</span></li>
                  </ol>
                </div><div class="ancestors">
              <span class="filtertype"></span>
              <ol>
                <li class="hideall out"><span>Hide All</span></li>
                <li class="showall in"><span>Show All</span></li>
              </ol>
            </div>
          <div id="visbl">
              <span class="filtertype">Visibility</span>
              <ol><li class="public in"><span>Public</span></li><li class="all out"><span>All</span></li></ol>
            </div>
        </div>
      </div>

      <div id="template">
        <div id="allMembers">
        

        <div id="types" class="types members">
              <h3>Type Members</h3>
              <ol><li name="org.http4s.server.websocket.WebSocketBuilder" visbl="pub" class="indented0 " data-isabs="false" fullComment="yes" group="Ungrouped">
      <a id="WebSocketBuilder[F[_]]extendsProductwithSerializable"></a><a id="WebSocketBuilder[F[_]]:WebSocketBuilder[F]"></a>
      <span class="permalink">
      <a href="../../../../org/http4s/server/websocket/index.html#WebSocketBuilder[F[_]]extendsProductwithSerializable" title="Permalink">
        <i class="material-icons"></i>
      </a>
    </span>
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">case class</span>
      </span>
      <span class="symbol">
        <a title="Build a response which will accept an HTTP websocket upgrade request and initiate a websocket connection using the supplied exchange to process and respond to websocket messages." href="WebSocketBuilder.html"><span class="name">WebSocketBuilder</span></a><span class="tparams">[<span name="F">F<span class="tparams">[<span name="_">_</span>]</span></span>]</span><span class="params">(<span name="send">send: <span class="extype" name="fs2.Stream">Stream</span>[<span class="extype" name="org.http4s.server.websocket.WebSocketBuilder.F">F</span>, <span class="extype" name="org.http4s.websocket.WebsocketBits.WebSocketFrame">WebSocketFrame</span>]</span>, <span name="receive">receive: <span class="extype" name="fs2.Sink">Sink</span>[<span class="extype" name="org.http4s.server.websocket.WebSocketBuilder.F">F</span>, <span class="extype" name="org.http4s.websocket.WebsocketBits.WebSocketFrame">WebSocketFrame</span>]</span>, <span name="headers">headers: <a href="../../Headers.html" class="extype" name="org.http4s.Headers">Headers</a></span>, <span name="onNonWebSocketRequest">onNonWebSocketRequest: <span class="extype" name="org.http4s.server.websocket.WebSocketBuilder.F">F</span>[<a href="../../Response.html" class="extype" name="org.http4s.Response">Response</a>[<span class="extype" name="org.http4s.server.websocket.WebSocketBuilder.F">F</span>]]</span>, <span name="onHandshakeFailure">onHandshakeFailure: <span class="extype" name="org.http4s.server.websocket.WebSocketBuilder.F">F</span>[<a href="../../Response.html" class="extype" name="org.http4s.Response">Response</a>[<span class="extype" name="org.http4s.server.websocket.WebSocketBuilder.F">F</span>]]</span>)</span><span class="result"> extends <a href="http://www.scala-lang.org/api/2.12.8/scala/Product.html#scala.Product" class="extype" name="scala.Product">Product</a> with <a href="http://www.scala-lang.org/api/2.12.8/scala/Serializable.html#scala.Serializable" class="extype" name="scala.Serializable">Serializable</a></span>
      </span>
      
      <p class="shortcomment cmt">Build a response which will accept an HTTP websocket upgrade request and initiate a websocket connection using the
supplied exchange to process and respond to websocket messages.</p><div class="fullcomment"><div class="comment cmt"><p>Build a response which will accept an HTTP websocket upgrade request and initiate a websocket connection using the
supplied exchange to process and respond to websocket messages.</p></div><dl class="paramcmts block"><dt class="param">send</dt><dd class="cmt"><p>The send side of the Exchange represents the outgoing stream of messages that should be sent to the client</p></dd><dt class="param">receive</dt><dd class="cmt"><p>The receive side of the Exchange is a sink to which the framework will push the incoming websocket messages
                Once both streams have terminated, the server will initiate a close of the websocket connection.
                As defined in the websocket specification, this means the server
                will send a CloseFrame to the client and wait for a CloseFrame in response before closing the
                connection, this ensures that no messages are lost in flight. The server will shutdown the
                connection when it receives the <code>CloseFrame</code> message back from the client. The connection will also
                be closed if the client does not respond with a <code>CloseFrame</code> after some reasonable amount of
                time.
                Another way of closing the connection is by emitting a <code>CloseFrame</code> in the stream of messages
                heading to the client. This method allows one to attach a message to the <code>CloseFrame</code> as defined
                by the websocket protocol.
                Unfortunately the current implementation does not quite respect the description above, it violates
                the websocket protocol by terminating the connection immediately upon reception
                of a <code>CloseFrame</code>. This bug will be addressed soon in an upcoming release and this message will be
                removed.
                Currently, there is no way for the server to be notified when the connection is closed, neither in
                the case of a normal disconnection such as a Close handshake or due to a connection error. There
                are plans to address this limitation in the future.</p></dd><dt class="param">headers</dt><dd class="cmt"><p>Handshake response headers, such as such as:Sec-WebSocket-Protocol.</p></dd><dt class="param">onNonWebSocketRequest</dt><dd class="cmt"><p>The status code to return to a client making a non-websocket HTTP request to this route.
                             default: NotImplemented</p></dd><dt class="param">onHandshakeFailure</dt><dd class="cmt"><p>The status code to return when failing to handle a websocket HTTP request to this route.
                          default: BadRequest</p></dd></dl></div>
    </li></ol>
            </div>

        

        <div class="values members">
              <h3>Value Members</h3>
              <ol>
                <li name="org.http4s.server.websocket#websocketKey" visbl="pub" class="indented0 " data-isabs="false" fullComment="no" group="Ungrouped">
      <a id="websocketKey[F[_]]:org.http4s.AttributeKey[org.http4s.websocket.WebSocketContext[F]]"></a><a id="websocketKey[F[_]]:AttributeKey[WebSocketContext[F]]"></a>
      <span class="permalink">
      <a href="../../../../org/http4s/server/websocket/index.html#websocketKey[F[_]]:org.http4s.AttributeKey[org.http4s.websocket.WebSocketContext[F]]" title="Permalink">
        <i class="material-icons"></i>
      </a>
    </span>
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">def</span>
      </span>
      <span class="symbol">
        <span class="name">websocketKey</span><span class="tparams">[<span name="F">F<span class="tparams">[<span name="_">_</span>]</span></span>]</span><span class="result">: <a href="../../AttributeKey.html" class="extype" name="org.http4s.AttributeKey">AttributeKey</a>[<a href="../../websocket/WebSocketContext.html" class="extype" name="org.http4s.websocket.WebSocketContext">WebSocketContext</a>[<span class="extype" name="org.http4s.server.websocket.websocketKey.F">F</span>]]</span>
      </span>
      
      
    </li><li name="org.http4s.server.websocket.WebSocketBuilder" visbl="pub" class="indented0 " data-isabs="false" fullComment="no" group="Ungrouped">
      <a id="WebSocketBuilder"></a><a id="WebSocketBuilder:WebSocketBuilder"></a>
      <span class="permalink">
      <a href="../../../../org/http4s/server/websocket/index.html#WebSocketBuilder" title="Permalink">
        <i class="material-icons"></i>
      </a>
    </span>
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">object</span>
      </span>
      <span class="symbol">
        <a title="" href="WebSocketBuilder$.html"><span class="name">WebSocketBuilder</span></a><span class="result"> extends <a href="http://www.scala-lang.org/api/2.12.8/scala/Serializable.html#scala.Serializable" class="extype" name="scala.Serializable">Serializable</a></span>
      </span>
      
      
    </li>
              </ol>
            </div>

        

        <div class="values members">
              <h3>Deprecated Value Members</h3>
              <ol><li name="org.http4s.server.websocket#WS" visbl="pub" class="indented0 " data-isabs="false" fullComment="yes" group="Ungrouped">
      <a id="WS[F[_]](send:fs2.Stream[F,org.http4s.websocket.WebsocketBits.WebSocketFrame],receive:fs2.Sink[F,org.http4s.websocket.WebsocketBits.WebSocketFrame])(implicitF:cats.Monad[F],implicitW:org.http4s.EntityEncoder[F,String]):F[org.http4s.Response[F]]"></a><a id="WS[F[_]](Stream[F,WebSocketFrame],Sink[F,WebSocketFrame])(Monad[F],EntityEncoder[F,String]):F[Response[F]]"></a>
      <span class="permalink">
      <a href="../../../../org/http4s/server/websocket/index.html#WS[F[_]](send:fs2.Stream[F,org.http4s.websocket.WebsocketBits.WebSocketFrame],receive:fs2.Sink[F,org.http4s.websocket.WebsocketBits.WebSocketFrame])(implicitF:cats.Monad[F],implicitW:org.http4s.EntityEncoder[F,String]):F[org.http4s.Response[F]]" title="Permalink">
        <i class="material-icons"></i>
      </a>
    </span>
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">def</span>
      </span>
      <span class="symbol">
        <span class="name deprecated" title="Deprecated: (Since version 0.18.0-M7) Use WebSocketBuilder">WS</span><span class="tparams">[<span name="F">F<span class="tparams">[<span name="_">_</span>]</span></span>]</span><span class="params">(<span name="send">send: <span class="extype" name="fs2.Stream">Stream</span>[<span class="extype" name="org.http4s.server.websocket.WS.F">F</span>, <span class="extype" name="org.http4s.websocket.WebsocketBits.WebSocketFrame">WebSocketFrame</span>]</span>, <span name="receive">receive: <span class="extype" name="fs2.Sink">Sink</span>[<span class="extype" name="org.http4s.server.websocket.WS.F">F</span>, <span class="extype" name="org.http4s.websocket.WebsocketBits.WebSocketFrame">WebSocketFrame</span>]</span>)</span><span class="params">(<span class="implicit">implicit </span><span name="F">F: <a href="http://typelevel.org/cats/api/cats/Monad.html#cats.Monad" class="extype" name="cats.Monad">Monad</a>[<span class="extype" name="org.http4s.server.websocket.WS.F">F</span>]</span>, <span name="W">W: <a href="../../EntityEncoder.html" class="extype" name="org.http4s.EntityEncoder">EntityEncoder</a>[<span class="extype" name="org.http4s.server.websocket.WS.F">F</span>, <span class="extype" name="scala.Predef.String">String</span>]</span>)</span><span class="result">: <span class="extype" name="org.http4s.server.websocket.WS.F">F</span>[<a href="../../Response.html" class="extype" name="org.http4s.Response">Response</a>[<span class="extype" name="org.http4s.server.websocket.WS.F">F</span>]]</span>
      </span>
      
      <div class="fullcomment"><dl class="attributes block"> <dt>Annotations</dt><dd>
                <span class="name">@deprecated</span>
              
        </dd><dt>Deprecated</dt><dd class="cmt"><p><i>(Since version 0.18.0-M7)</i> Use WebSocketBuilder</p></dd></dl></div>
    </li><li name="org.http4s.server.websocket#WS" visbl="pub" class="indented0 " data-isabs="false" fullComment="yes" group="Ungrouped">
      <a id="WS[F[_]](send:fs2.Stream[F,org.http4s.websocket.WebsocketBits.WebSocketFrame],receive:fs2.Sink[F,org.http4s.websocket.WebsocketBits.WebSocketFrame],status:F[org.http4s.Response[F]])(implicitF:cats.Monad[F]):F[org.http4s.Response[F]]"></a><a id="WS[F[_]](Stream[F,WebSocketFrame],Sink[F,WebSocketFrame],F[Response[F]])(Monad[F]):F[Response[F]]"></a>
      <span class="permalink">
      <a href="../../../../org/http4s/server/websocket/index.html#WS[F[_]](send:fs2.Stream[F,org.http4s.websocket.WebsocketBits.WebSocketFrame],receive:fs2.Sink[F,org.http4s.websocket.WebsocketBits.WebSocketFrame],status:F[org.http4s.Response[F]])(implicitF:cats.Monad[F]):F[org.http4s.Response[F]]" title="Permalink">
        <i class="material-icons"></i>
      </a>
    </span>
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">def</span>
      </span>
      <span class="symbol">
        <span class="name deprecated" title="Deprecated: (Since version 0.18.0-M7) Use WebSocketBuilder">WS</span><span class="tparams">[<span name="F">F<span class="tparams">[<span name="_">_</span>]</span></span>]</span><span class="params">(<span name="send">send: <span class="extype" name="fs2.Stream">Stream</span>[<span class="extype" name="org.http4s.server.websocket.WS.F">F</span>, <span class="extype" name="org.http4s.websocket.WebsocketBits.WebSocketFrame">WebSocketFrame</span>]</span>, <span name="receive">receive: <span class="extype" name="fs2.Sink">Sink</span>[<span class="extype" name="org.http4s.server.websocket.WS.F">F</span>, <span class="extype" name="org.http4s.websocket.WebsocketBits.WebSocketFrame">WebSocketFrame</span>]</span>, <span name="status">status: <span class="extype" name="org.http4s.server.websocket.WS.F">F</span>[<a href="../../Response.html" class="extype" name="org.http4s.Response">Response</a>[<span class="extype" name="org.http4s.server.websocket.WS.F">F</span>]]</span>)</span><span class="params">(<span class="implicit">implicit </span><span name="F">F: <a href="http://typelevel.org/cats/api/cats/Monad.html#cats.Monad" class="extype" name="cats.Monad">Monad</a>[<span class="extype" name="org.http4s.server.websocket.WS.F">F</span>]</span>)</span><span class="result">: <span class="extype" name="org.http4s.server.websocket.WS.F">F</span>[<a href="../../Response.html" class="extype" name="org.http4s.Response">Response</a>[<span class="extype" name="org.http4s.server.websocket.WS.F">F</span>]]</span>
      </span>
      
      <p class="shortcomment cmt">Build a response which will accept an HTTP websocket upgrade request and initiate a websocket connection using the
supplied exchange to process and respond to websocket messages.</p><div class="fullcomment"><div class="comment cmt"><p>Build a response which will accept an HTTP websocket upgrade request and initiate a websocket connection using the
supplied exchange to process and respond to websocket messages.</p></div><dl class="paramcmts block"><dt class="param">send</dt><dd class="cmt"><p>The send side of the Exchange represents the outgoing stream of messages that should be sent to the client</p></dd><dt class="param">receive</dt><dd class="cmt"><p>The receive side of the Exchange is a sink to which the framework will push the incoming websocket messages
                Once both streams have terminated, the server will initiate a close of the websocket connection.
                As defined in the websocket specification, this means the server
                will send a CloseFrame to the client and wait for a CloseFrame in response before closing the
                connection, this ensures that no messages are lost in flight. The server will shutdown the
                connection when it receives the <code>CloseFrame</code> message back from the client. The connection will also
                be closed if the client does not respond with a <code>CloseFrame</code> after some reasonable amount of
                time.
                Another way of closing the connection is by emitting a <code>CloseFrame</code> in the stream of messages
                heading to the client. This method allows one to attach a message to the <code>CloseFrame</code> as defined
                by the websocket protocol.
                Unfortunately the current implementation does not quite respect the description above, it violates
                the websocket protocol by terminating the connection immediately upon reception
                of a <code>CloseFrame</code>. This bug will be addressed soon in an upcoming release and this message will be
                removed.
                Currently, there is no way for the server to be notified when the connection is closed, neither in
                the case of a normal disconnection such as a Close handshake or due to a connection error. There
                are plans to address this limitation in the future.</p></dd><dt class="param">status</dt><dd class="cmt"><p>The status code to return to a client making a non-websocket HTTP request to this route</p></dd></dl><dl class="attributes block"> <dt>Annotations</dt><dd>
                <span class="name">@deprecated</span>
              
        </dd><dt>Deprecated</dt><dd class="cmt"><p><i>(Since version 0.18.0-M7)</i> Use WebSocketBuilder</p></dd></dl></div>
    </li></ol>
            </div>
        </div>

        <div id="inheritedMembers">
        <div class="parent" name="scala.AnyRef">
              <h3>Inherited from <a href="http://www.scala-lang.org/api/2.12.8/scala/AnyRef.html#scala.AnyRef" class="extype" name="scala.AnyRef">AnyRef</a></h3>
            </div><div class="parent" name="scala.Any">
              <h3>Inherited from <a href="http://www.scala-lang.org/api/2.12.8/scala/Any.html#scala.Any" class="extype" name="scala.Any">Any</a></h3>
            </div>
        
        </div>

        <div id="groupedMembers">
        <div class="group" name="Ungrouped">
              <h3>Ungrouped</h3>
              
            </div>
        </div>

      </div>

      <div id="tooltip"></div>

      <div id="footer">  </div>
    </body>
          </div>
        </div>
      </div>
    </body>
      </html>
